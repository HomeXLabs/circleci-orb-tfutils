description: >
  Using terraform validate command checks to see if all of the terraform files in the repository have the correct syntax.

steps:
  - run:
      name: Check Terraform syntax
      command: |
        find . -type f -name "*.tf" -exec dirname {} \;|sort -u | while read m;
        do (terraform init -input=false -backend=false "$m"; terraform validate "$m" && echo "âˆš $m") ||
        exit 1 ; done
